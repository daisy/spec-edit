<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 34.1.8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
:is(aside,div).example{border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
		
		
<title>DAISY Specification Editing Guide</title>
		
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
		
		
		
<style>

			figure {
				text-align: left !important;
			}
			figure img {
				margin: 1rem auto !important;
			}
		
</style>
	
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "shortName": "spec-edit",
  "specStatus": "base",
  "latestVersion": "https://daisy.github.io/spec-edit/guide/",
  "edDraftURI": "https://daisy.github.io/spec-edit/",
  "editors": [
    {
      "name": "Matt Garrish",
      "company": "DAISY Consortium",
      "url": "https://daisy.org/"
    }
  ],
  "logos": [
    {
      "src": "images/daisy_high.jpg",
      "width": 112,
      "height": 100,
      "alt": "DAISY Consortium logo",
      "url": "https://daisy.org"
    }
  ],
  "github": "daisy/spec-edit",
  "postProcess": [
    null
  ],
  "publishISODate": "2023-09-26T00:00:00.000Z",
  "generatedSubtitle": "26 September 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/base.css"></head>
	<body class="h-entry informative"><div class="head">
    <p class="logos"><a class="logo" href="https://daisy.org"><img crossorigin="" alt="DAISY Consortium logo" height="100" src="images/daisy_high.jpg" width="112">
  </a></p>
    <h1 id="title" class="title">DAISY Specification Editing Guide</h1> 
    <p id="w3c-state"> <time class="dt-published" datetime="2023-09-26">26 September 2023</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        
        <dt>Latest published version:</dt><dd>
                <a href="https://daisy.github.io/spec-edit/guide/">https://daisy.github.io/spec-edit/guide/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://daisy.github.io/spec-edit/">https://daisy.github.io/spec-edit/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://github.com/daisy/spec-edit/commits/">Commit history</a>
                  </dd>
        
        
        
        
        
        <dt>Editor:</dt><dd class="editor p-author h-card vcard">
    <a class="u-url url p-name fn" href="https://daisy.org/">Matt Garrish</a> (<span class="p-org org h-org">DAISY Consortium</span>)
  </dd>
        
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/daisy/spec-edit/">GitHub daisy/spec-edit</a>
        (<a href="https://github.com/daisy/spec-edit/pulls/">pull requests</a>,
        <a href="https://github.com/daisy/spec-edit/issues/new/choose">new issue</a>,
        <a href="https://github.com/daisy/spec-edit/issues/">open issues</a>)
      </dd>
        
        
      </dl>
    </details>
    
    
    <p class="copyright">Copyright © DAISY Consortium 2023</p>
    <hr title="Separator for header">
  </div>
		
		<nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#github"><bdi class="secno">2. </bdi>Using GitHub</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#github-intro"><bdi class="secno">2.1 </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#github-tools"><bdi class="secno">2.2 </bdi>Tools for managing repositories</a></li><li class="tocline"><a class="tocxref" href="#github-workflow"><bdi class="secno">2.3 </bdi>Specification editing workflow</a></li><li class="tocline"><a class="tocxref" href="#clone-repo"><bdi class="secno">2.4 </bdi>Cloning repositories</a></li><li class="tocline"><a class="tocxref" href="#branches"><bdi class="secno">2.5 </bdi>Branches</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#branch-intro"><bdi class="secno">2.5.1 </bdi>Overview</a></li><li class="tocline"><a class="tocxref" href="#branch-create"><bdi class="secno">2.5.2 </bdi>Create a branch</a></li><li class="tocline"><a class="tocxref" href="#branch-switch"><bdi class="secno">2.5.3 </bdi>Switching branches</a></li><li class="tocline"><a class="tocxref" href="#branch-delete"><bdi class="secno">2.5.4 </bdi>Deleting branches</a></li></ol></li><li class="tocline"><a class="tocxref" href="#repo-changes"><bdi class="secno">2.6 </bdi>Managing changes</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#pull-updates"><bdi class="secno">2.6.1 </bdi>Pulling the latest updates</a></li><li class="tocline"><a class="tocxref" href="#commits"><bdi class="secno">2.6.2 </bdi>Committing changes</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#file-maintenance"><bdi class="secno">2.6.2.1 </bdi>File maintenance</a></li></ol></li><li class="tocline"><a class="tocxref" href="#stash-changes"><bdi class="secno">2.6.3 </bdi>Stashing changes</a></li><li class="tocline"><a class="tocxref" href="#push-changes"><bdi class="secno">2.6.4 </bdi>Pushing changes</a></li></ol></li><li class="tocline"><a class="tocxref" href="#pull-requests"><bdi class="secno">2.7 </bdi>Pull requests</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#open-pr"><bdi class="secno">2.7.1 </bdi>Opening a pull request</a></li><li class="tocline"><a class="tocxref" href="#request-reviews"><bdi class="secno">2.7.2 </bdi>Request reviews</a></li><li class="tocline"><a class="tocxref" href="#review-pr"><bdi class="secno">2.7.3 </bdi>Reviewing pull requests</a></li><li class="tocline"><a class="tocxref" href="#edit-pr"><bdi class="secno">2.7.4 </bdi>Editing a pull request</a></li><li class="tocline"><a class="tocxref" href="#merge-pr"><bdi class="secno">2.7.5 </bdi>Merging pull requests</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#editing"><bdi class="secno">3. </bdi>Editing specifications</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#respec"><bdi class="secno">3.1 </bdi>ReSpec</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#respec-intro"><bdi class="secno">3.1.1 </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#respec-config"><bdi class="secno">3.1.2 </bdi>Configuring a specification</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#respec-add"><bdi class="secno">3.1.2.1 </bdi>Adding the code</a></li><li class="tocline"><a class="tocxref" href="#respec-metadata"><bdi class="secno">3.1.2.2 </bdi>Adding the initialization metadata</a></li><li class="tocline"><a class="tocxref" href="#respec-confirm"><bdi class="secno">3.1.2.3 </bdi>Confirming the ReSpec setup</a></li></ol></li><li class="tocline"><a class="tocxref" href="#respec-err-warn"><bdi class="secno">3.1.3 </bdi>Errors and warnings</a></li></ol></li><li class="tocline"><a class="tocxref" href="#spec-structure"><bdi class="secno">3.2 </bdi>Sectioning specifications</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sections"><bdi class="secno">3.2.1 </bdi>Using sections</a></li><li class="tocline"><a class="tocxref" href="#normative-sections"><bdi class="secno">3.2.2 </bdi>Normative sections</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-statements"><bdi class="secno">3.2.2.1 </bdi>Normative statements</a></li></ol></li><li class="tocline"><a class="tocxref" href="#informative-sections"><bdi class="secno">3.2.3 </bdi>Informative sections</a></li></ol></li><li class="tocline"><a class="tocxref" href="#prelim"><bdi class="secno">3.3 </bdi>Preliminary matter</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#title-and-subtitle"><bdi class="secno">3.3.1 </bdi>Title and subtitle</a></li><li class="tocline"><a class="tocxref" href="#copyright"><bdi class="secno">3.3.2 </bdi>Copyright</a></li><li class="tocline"><a class="tocxref" href="#spec-abstract"><bdi class="secno">3.3.3 </bdi>Abstract</a></li><li class="tocline"><a class="tocxref" href="#spec-sotd"><bdi class="secno">3.3.4 </bdi>Status of this document</a></li><li class="tocline"><a class="tocxref" href="#spec-toc"><bdi class="secno">3.3.5 </bdi>Table of contents</a></li><li class="tocline"><a class="tocxref" href="#introductions"><bdi class="secno">3.3.6 </bdi>Introductions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#spec-overview"><bdi class="secno">3.3.6.1 </bdi>Overviews and Backgrounds</a></li><li class="tocline"><a class="tocxref" href="#spec-conformance"><bdi class="secno">3.3.6.2 </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#spec-terminology"><bdi class="secno">3.3.6.3 </bdi>Terminology</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#body"><bdi class="secno">3.4 </bdi>Body matter</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#body-write"><bdi class="secno">3.4.1 </bdi>How to write the body</a></li><li class="tocline"><a class="tocxref" href="#writing-guidelines"><bdi class="secno">3.4.2 </bdi>Writing guidelines</a></li><li class="tocline"><a class="tocxref" href="#xrefs"><bdi class="secno">3.4.3 </bdi>Cross-references</a></li><li class="tocline"><a class="tocxref" href="#ref-hd"><bdi class="secno">3.4.4 </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#ref-specs-hd"><bdi class="secno">3.4.4.1 </bdi>To other specifications</a></li><li class="tocline"><a class="tocxref" href="#ref-markup-hd"><bdi class="secno">3.4.4.2 </bdi>To elements and attributes</a></li><li class="tocline"><a class="tocxref" href="#ref-concept-hd"><bdi class="secno">3.4.4.3 </bdi>To concepts and definitions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#adding-notes"><bdi class="secno">3.4.5 </bdi>Adding notes</a></li><li class="tocline"><a class="tocxref" href="#adding-examples"><bdi class="secno">3.4.6 </bdi>Adding examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#backmatter"><bdi class="secno">3.5 </bdi>Back matter</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#adding-app"><bdi class="secno">3.5.1 </bdi>Adding appendixes</a></li><li class="tocline"><a class="tocxref" href="#spec-change-log"><bdi class="secno">3.5.2 </bdi>Change log entries</a></li></ol></li><li class="tocline"><a class="tocxref" href="#custom-css"><bdi class="secno">3.6 </bdi>Custom styling</a></li></ol></li><li class="tocline"><a class="tocxref" href="#resources"><bdi class="secno">4. </bdi>Helpful resources</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#github-0"><bdi class="secno">4.1 </bdi>GitHub</a></li><li class="tocline"><a class="tocxref" href="#editing-0"><bdi class="secno">4.2 </bdi>Editing</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.1 </bdi>Informative references</a></li></ol></li></ol></nav>
		<section id="intro"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#intro" aria-label="Permalink for Section 1."></a></div>
			

			<p>Finding people to write technical specifications is challenge enough, and the last anything wants when
				taking on this kind of task is to be overwhelmed by the process of managing the documents. To help make
				the process as smooth as possible, DAISY uses two widely implemented tools to help authors and editors
				navigate the ins and outs of specification work: ReSpec and GitHub.</p>

			<p>ReSpec is a tool that lets authors and editors focus on writing the text — it takes care of
				formatting the document. Consequently, the only thing you have to know to write DAISY specifications is
				some basic HTML. This guide introduces ReSpec and explains its authoring conventions.</p>

			<p>GitHub is a content management system (CMS). Although commonly associated with coding projects, CMSes
				provide a convenient way to author documents. The full authoring history of documents is always
				available, for example, so you never have to worry about making mistakes. They are easily undone. GitHub
				also allows others to review your changes before they are merged into a document.</p>

			<p>Using GitHub can be a little more challenging than using ReSpec, but there are many user tools available
				that can hide the technical details. This guide focuses on the underlying commands to help you
				understand what happens at each stage of the process but is expected that you will use one of the
				available tools to simplify the process.</p>
		</section>
		<section id="github"><div class="header-wrapper"><h2 id="x2-using-github"><bdi class="secno">2. </bdi>Using GitHub</h2><a class="self-link" href="#github" aria-label="Permalink for Section 2."></a></div>
			

			<section id="github-intro"><div class="header-wrapper"><h3 id="x2-1-introduction"><bdi class="secno">2.1 </bdi>Introduction</h3><a class="self-link" href="#github-intro" aria-label="Permalink for Section 2.1"></a></div>
				

				<p>GitHub is a cloud-based service that uses git repositories to store and manage development projects.
					It is also a web site through which you can easily maintain repositories.</p>

				<p>Although commonly thought of as a home for open-source code projects, GitHub is useful for any
					project where versioning and tracking of documents is important. It is for this reason that DAISY,
					W3C, and other publishers use GitHub for document development.</p>

				<p>GitHub (the web site) includes some web-based tools for editing files in a repository, but it is more
					common for developers to download repositories to their local machines to work on and then submit
					their changes back to the site. This makes it easy to collaborate with others through the web site
					and track what is happening.</p>

				<p>This section goes through the process of checking out and working on the files in a repository, as
					this is how you will manage the writing and editing of DAISY specifications. As there are many tools
					available to simplify the document management process, this guide focuses on the underlying git
					commands. Once you understand these commands, you will find it much easier to understand the
					graphical user interfaces to GitHub.</p>
			</section>

			<section id="github-tools"><div class="header-wrapper"><h3 id="x2-2-tools-for-managing-repositories"><bdi class="secno">2.2 </bdi>Tools for managing repositories</h3><a class="self-link" href="#github-tools" aria-label="Permalink for Section 2.2"></a></div>
				

				<p>The following list introduces some of the most common tools used to manage GitHub repositories. You
					will need to install at least one of these tools before you will be able to checkout files and edit
					them.</p>

				<dl>
					<dt><a href="https://git-scm.com/">Git command line</a></dt>
					<dd>
						<p>The git command line is the most basic way to interact with git repositories.</p>
						<p>If you are comfortable with command line tools and do not mind memorizing the various git
							commands, it may be all you need to manage your work locally.</p>
					</dd>

					<dt><a href="https://desktop.github.com/">GitHub Desktop</a></dt>
					<dd>
						<p>The GitHub desktop is an application that runs on your local computer. It provides a
							graphical user interface for checking out repositories and maintaining the files in them. As
							it comes integrated with GitHub and sets up a connection with your user account, it is very
							beginner friendly.</p>
						<p>One bonus of installing GitHub desktop is that it will install the git command line for you,
							so you can switch to the command line without having to run a separate install.</p>
					</dd>

					<dt><a href="https://tortoisegit.org/">TortoiseGit</a></dt>
					<dd>
						<p>TortoiseGit is an application that runs on Windows systems. It integrates with your
							right-click context menu, allowing you to manage repositories from the file system
							explorer.</p>
						<p>In addition to providing easy access to many common git commands, TortoiseGit also uses icon
							overlays to display which folders and files have changes. Unfortunately, these overlays are
							only accessible to sighted users.</p>
					</dd>

					<dt><a href="https://github.com">GitHub web site</a></dt>
					<dd>
						<p>Although the GitHub web site is not an installable application, and does not directly allow
							you to download repositories, it does provide some basic tools for maintaining repositories
							and editing files.</p>
						<p>The GitHub site is the only way to open and comment on <a href="#pull-requests">pull
								requests</a>, for example, so you cannot avoid using it. It also allows you to do light
							modifications on files if you are in a hurry, but it is not recommended for extensive
							editing.</p>
					</dd>
				</dl>
			</section>

			<section id="github-workflow"><div class="header-wrapper"><h3 id="x2-3-specification-editing-workflow"><bdi class="secno">2.3 </bdi>Specification editing workflow</h3><a class="self-link" href="#github-workflow" aria-label="Permalink for Section 2.3"></a></div>
				

				<p>The typical GitHub workflow for editing a specification is as follows:</p>

				<ol>
					<li><a href="#clone-repo">Clone</a> the repository to your local machine.</li>
					<li><a href="#branch-create">Create a branch</a> to work in.</li>
					<li><a href="#editing">Edit</a> the file(s).</li>
					<li><a href="#commits">Commit</a> your changes.</li>
					<li><a href="#push-changes">Push</a> your changes back to the site.</li>
					<li>Open a <a href="#pull-requests">pull request</a>.</li>
					<li>Repeat from step 2 as needed.</li>
				</ol>

				<p>The following sections will go into these steps in more detail.</p>
			</section>

			<section id="clone-repo"><div class="header-wrapper"><h3 id="x2-4-cloning-repositories"><bdi class="secno">2.4 </bdi>Cloning repositories</h3><a class="self-link" href="#clone-repo" aria-label="Permalink for Section 2.4"></a></div>
				

				<p>Cloning a repository downloads a copy of the repository to your local machine. Cloning is the
					preferred work mode for DAISY specifications.</p>

				<p>The two most common ways to clone a repository are directly from GitHub and from the git command
					line.</p>

				<dl>
					<dt>From the GitHub web site:</dt>
					<dd>
						<ol>
							<li>Go to the site for the repository.</li>
							<li>
								<p>Click on the "<code>&lt;&gt; Code</code>" button.</p>
								<figure id="fig-github-code-tab">
									<figcaption><a class="self-link" href="#fig-github-code-tab">Figure <bdi class="figno">1</bdi></a> <span class="fig-title">GitHub code tab</span></figcaption>
									<img src="./images/code-tab.png" width="500" alt="">
									<details>
										<summary>Description</summary>
										<p>The image shows the top of the eBraille repository as it appears on the
											GitHub web site. The green "Code" button is rendered at the right edge of
											the page on a line of links and buttons after the repository name.</p>
									</details>
								</figure>
								<p>(Note for screen reader users that this "button" is actually a <code>details</code>
									element styled like a button.)</p>
							</li>
							<li>
								<p>From the drop-down menu, select "Open with GitHub Desktop" to download. (If you are
									using a different application, this link should open that program instead; you do
									not have to install GitHub Desktop for this step.)</p>
								<figure id="fig-code-menu">
									<figcaption><a class="self-link" href="#fig-code-menu">Figure <bdi class="figno">2</bdi></a> <span class="fig-title">Code menu</span></figcaption>
									<img src="./images/code-menu.png" width="300" alt="">
									<details>
										<summary>Description</summary>
										<p>The image shows the clone option that appears by default in the drop-down
											menu box. The URL for the repository is shown followed by a link to open
											with GitHub desktop and a link to download a ZIP file with the source.</p>
									</details>
								</figure>
							</li>
							<li>You will be prompted where to save the repository on your local filesystem.</li>
						</ol>
						<div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div><div class="">
							<p>Do not download the zipped source. This option only gives you the files without any of
								the other necessary repository information for your git tools to work with them.</p>
						</div></div>
					</dd>

					<dt>From the git command line:</dt>
					<dd>
						<ol>
							<li>Create a directory for your repositories if necessary.</li>
							<li>Open the command line terminal for your operating system.</li>
							<li>Switch to the directory from step 1.</li>
							<li>Open the GitHub web site for the repository in your browser and copy the URL.</li>
							<li>
								<p>Clone the repository with the command:</p>
								<pre><code aria-busy="false" class="hljs xml">git clone <span class="hljs-tag">&lt;<span class="hljs-name">URL</span>&gt;</span></code></pre>
								<p>Replacing "&lt;URL&gt;" with the URL from step 4.</p>
								<aside class="example" id="example-command-to-clone-the-daisy-ebraille-repository"><div class="marker">
    <a class="self-link" href="#example-command-to-clone-the-daisy-ebraille-repository">Example<bdi> 1</bdi></a><span class="example-title">: Command to clone the DAISY eBraille repository</span>
  </div>
									<pre><code aria-busy="false" class="hljs javascript">git clone https:<span class="hljs-comment">//github.com/daisy/ebraille/</span></code></pre>
								</aside>
							</li>
						</ol>
						<div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span></div><div class="">
							<p>git will automatically create a new subdirectory for the source files using the name of
								the repository.</p>
						</div></div>
					</dd>
				</dl>

				<div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span></div><div class="">
					<p>Another process for working on a repository is called forking. Forking a repository makes a copy
						of the repository under your GitHub account. You then clone that repository and work on it and
						make a pull request back to the source repository when you are done.</p>

					<p>Forking is typically only used when you do not have access to edit the source repository. If you
						need access to a DAISY repository, make a request to DAISY staff.</p>
				</div></div>
			</section>

			<section id="branches"><div class="header-wrapper"><h3 id="x2-5-branches"><bdi class="secno">2.5 </bdi>Branches</h3><a class="self-link" href="#branches" aria-label="Permalink for Section 2.5"></a></div>
				

				<section id="branch-intro"><div class="header-wrapper"><h4 id="x2-5-1-overview"><bdi class="secno">2.5.1 </bdi>Overview</h4><a class="self-link" href="#branch-intro" aria-label="Permalink for Section 2.5.1"></a></div>
					

					<p>Branches are like copies of the repository source that allow you to work on files without
						directly changing the primary source. After you have finished making all your changes, you
						request that your changes be merged back into the source (through what is called a "<a href="#pull-requests">pull request</a>").</p>

					<p>All DAISY specification should be done through branches and pull requests. Do not work directly
						in the "main" branch (the primary source) as it does not give others a chance to review your
						changes.</p>
				</section>

				<section id="branch-create"><div class="header-wrapper"><h4 id="x2-5-2-create-a-branch"><bdi class="secno">2.5.2 </bdi>Create a branch</h4><a class="self-link" href="#branch-create" aria-label="Permalink for Section 2.5.2"></a></div>
					

					<p>When creating a branch, try to give it a short but unique name. For example, name the branch
						after the issue number it addresses.</p>

					<p>You can also add a prefix using a slash to the name make branches more specific (e.g.,
						"metadata/explain-title").</p>

					<div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="5"><span>Note</span></div><div class="">
						<p>Branch names must not contain spaces. Some tools will allow you to enter spaces in the name
							but will convert them to dashes when creating the actual branch.</p>
					</div></div>

					<p>This section reviews creating branches from the GitHub web site and the command line, but most
						applications for managing repositories can simplify this process for you.</p>

					<dl>
						<dt>From the GitHub web site:</dt>
						<dd>
							<ol>
								<li>Go to the "Code" tab of the repository.</li>
								<li>
									<p>Click the button that shows the main branch.</p>
									<figure id="fig-main-branch-button">
										<figcaption><a class="self-link" href="#fig-main-branch-button">Figure <bdi class="figno">3</bdi></a> <span class="fig-title">Main branch button</span></figcaption>
										<img src="./images/branch-button.png" width="250" alt="">
										<details>
											<summary>Description</summary>
											<p>The image shows the main branch button. It is positioned under the name
												of the repository on the Code tab.</p>
										</details>
									</figure>
									<p>(Note for screenreader users that this "button" is actually a
											<code>details</code> element with the summary "Click branches or tags".)</p>
								</li>
								<li>
									<p>Type a name for your branch in the input box.</p>
									<figure id="fig-branch-input-field">
										<figcaption><a class="self-link" href="#fig-branch-input-field">Figure <bdi class="figno">4</bdi></a> <span class="fig-title">Branch input field</span></figcaption>
										<img src="./images/branch-input.png" width="300" alt="">
										<details>
											<summary>Description</summary>
											<p>The image shows the drop-down field after clicking on the main branch
												button. There is a text input field followed by the names of some
												existing branches.</p>
										</details>
									</figure>
								</li>
								<li>
									<p>Click the option to create the branch.</p>
									<figure id="fig-branch-create-option">
										<figcaption><a class="self-link" href="#fig-branch-create-option">Figure <bdi class="figno">5</bdi></a> <span class="fig-title">Branch create option</span></figcaption>
										<img src="./images/branch-create.png" width="300" alt="">
										<details>
											<summary>Description</summary>
											<p>The image shows the option to create the branch that appears once a name
												has been typed into the input field.</p>
										</details>
									</figure>
								</li>
							</ol>
							<div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>Note</span></div><div class="">
								<p>When creating a branch on the GitHub web site, you will need to <a href="#pull-updates">pull the change</a> to your local repository and <a href="#branch-switch">switch to the branch</a> before editing the files.</p>
							</div></div>
						</dd>

						<dt>From the git command line:</dt>
						<dd>
							<ol>
								<li>Open the command line terminal for your operating system.</li>
								<li>Switch to the root of the directory containing the repository source.</li>
								<li>Make sure the "main" branch is checked out when creating new branches (see <a href="#branch-switch" class="sec-ref"><bdi class="secno">2.5.3 </bdi>Switching branches</a> for more information).</li>
								<li>
									<p>Create and switch to the new branch with the command:</p>
									<pre><code aria-busy="false" class="hljs css">git checkout -<span class="hljs-selector-tag">b</span> <span class="hljs-selector-attr">[branch-name]</span></code></pre>
									<p>Replacing "[branch-name]" with the name for your branch.</p>
								</li>
								<li>
									<p>Push the new branch to GitHub with the command:</p>
									<pre><code aria-busy="false" class="hljs css">git push <span class="hljs-selector-attr">[branch-name]</span></code></pre>
								</li>
							</ol>
						</dd>
					</dl>
				</section>

				<section id="branch-switch"><div class="header-wrapper"><h4 id="x2-5-3-switching-branches"><bdi class="secno">2.5.3 </bdi>Switching branches</h4><a class="self-link" href="#branch-switch" aria-label="Permalink for Section 2.5.3"></a></div>
					

					<p>Following are some common commands for switching branches from the git command line:</p>

					<ul>
						<li>
							<p>To switch to an existing branch, run:</p>
							<pre><code aria-busy="false" class="hljs css">git checkout <span class="hljs-selector-attr">[branch-name]</span></code></pre>
							<p>(Replacing "[branch-name]" with the actual name of the branch.)</p>
						</li>

						<li>
							<p>To switch to the main branch, run:</p>
							<pre><code aria-busy="false" class="hljs css">git checkout <span class="hljs-selector-tag">main</span></code></pre>
						</li>

						<li>
							<p>To view the current branch you are in, run:</p>
							<pre><code aria-busy="false" class="hljs">git branch --show-current</code></pre>
						</li>
					</ul>
				</section>

				<section id="branch-delete"><div class="header-wrapper"><h4 id="x2-5-4-deleting-branches"><bdi class="secno">2.5.4 </bdi>Deleting branches</h4><a class="self-link" href="#branch-delete" aria-label="Permalink for Section 2.5.4"></a></div>
					

					<p>If you are no longer using a branch, delete it — stale branches are confusing to sift
						through later.</p>

					<div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="5"><span>Note</span></div><div class="">
						<p>Branches in DAISY repositories are typically set to be deleted automatically when a pull
							request is merged. You do not need to delete these manually.</p>
					</div></div>

					<dl>
						<dt>From the GitHub web site:</dt>
						<dd>
							<ol>
								<li>Go to the Code tab of the repository</li>
								<li>
									<p>Below the repository name is a count of branches. Click on this text to load the
										list of branches.</p>
									<figure id="fig-list-of-branches">
										<figcaption><a class="self-link" href="#fig-list-of-branches">Figure <bdi class="figno">6</bdi></a> <span class="fig-title">List of branches</span></figcaption>
										<img src="./images/branch-button.png" width="250" alt="">
										<details>
											<summary>Description</summary>
											<p>The image shows the number of branches in the repository (3). The link is
												beside the button to add branches.</p>
										</details>
									</figure>
								</li>
								<li>
									<p>Locate the branch you want to delete from the list on the new page.</p>
									<figure id="fig-branch-entry-with-delete-button">
										<figcaption><a class="self-link" href="#fig-branch-entry-with-delete-button">Figure <bdi class="figno">7</bdi></a> <span class="fig-title">Branch entry with delete button</span></figcaption>
										<img src="./images/branch-delete.png" width="500" alt="">
										<details>
											<summary>Description</summary>
											<p>The image shows an entry for a branch named "test/pr-preview". At the end
												of the entry is the garbage can icon for deleting the branch.</p>
										</details>
									</figure>
								</li>
								<li>Click on the garbage can icon next to the branch — the button has label
									"Delete" followed by the branch name.</li>
							</ol>
						</dd>

						<dt>From the git command line:</dt>
						<dd>
							<p>To delete a branch from the command line, run the command:</p>
							<pre><code aria-busy="false" class="hljs css">git push origin –-delete <span class="hljs-selector-attr">[branch-name]</span></code></pre>
							<p>Replacing "[branch-name]" with the name of the branch to delete.</p>
						</dd>
					</dl>
				</section>
			</section>

			<section id="repo-changes"><div class="header-wrapper"><h3 id="x2-6-managing-changes"><bdi class="secno">2.6 </bdi>Managing changes</h3><a class="self-link" href="#repo-changes" aria-label="Permalink for Section 2.6"></a></div>
				

				<section id="pull-updates"><div class="header-wrapper"><h4 id="x2-6-1-pulling-the-latest-updates"><bdi class="secno">2.6.1 </bdi>Pulling the latest updates</h4><a class="self-link" href="#pull-updates" aria-label="Permalink for Section 2.6.1"></a></div>
					

					<p>Running a "pull" command gets the latest commits, branches, etc., from the source repository.</p>

					<p>To perform a pull command, run:</p>
					<pre><code aria-busy="false" class="hljs">git pull</code></pre>

					<p>You should always run a pull command before starting new work on a specification to ensure your
						copy of the repository is up to date.</p>

					<div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="5"><span>Note</span></div><div class="">
						<p>If you create a branch in GitHub, you need to run a pull command first before you can check
							it out to work on it.</p>
					</div></div>
				</section>

				<section id="commits"><div class="header-wrapper"><h4 id="x2-6-2-committing-changes"><bdi class="secno">2.6.2 </bdi>Committing changes</h4><a class="self-link" href="#commits" aria-label="Permalink for Section 2.6.2"></a></div>
					

					<p>Committing your changes saves them with git. Some people like to commit often (e.g., with each
						minor change) while other prefer to commit only when they are done all their changes. Either
						approach is fine.</p>

					<p>To make a commit, run:</p>
					<pre><code aria-busy="false" class="hljs abnf">git commit –a –m <span class="hljs-string">"explanatory message"</span></code></pre>

					<p>The "<code>-a</code>" flag in the preceding commands "adds" all changed files to your commit.
						Although a bit counter-intuitive, you must "add" changed files even if they already exist in the
						repository.</p>

					<p>The "<code>-m</code>" flag indicates the commit includes an explanatory message. For DAISY
						specifications, please always describe your commits. The description does not need to be long,
						but should make clear what you are committing.</p>

					<div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="5"><span>Note</span></div><div class="">
						<p>Making commits does not push the changes to GitHub. Until you <a href="#push-changes">push</a> them to the GitHub server, the changes will only exist in your local copy of
							the repository.</p>
					</div></div>

					<section id="file-maintenance"><div class="header-wrapper"><h5 id="x2-6-2-1-file-maintenance"><bdi class="secno">2.6.2.1 </bdi>File maintenance</h5><a class="self-link" href="#file-maintenance" aria-label="Permalink for Section 2.6.2.1"></a></div>
						

						<p>Although most commits involve edits to a specification, it is also common to make changes to
							the file structure of a repository (e.g., add images to a specification, or move or rename
							files). The following list details some common file maintenance commands. Running these
							commands still requires a commit.</p>

						<ul>
							<li>
								<p>To add a single file to the repository, run:</p>
								<pre><code aria-busy="false" class="hljs">git add filename.xyz</code></pre>
							</li>

							<li>
								<p>To add all unversioned files, run:</p>
								<pre><code aria-busy="false" class="hljs css">git add -<span class="hljs-selector-tag">a</span></code></pre>
							</li>

							<li>
								<p>To check for unversioned files, run:</p>
								<pre><code aria-busy="false" class="hljs">git ls-files --other</code></pre>
							</li>

							<li>
								<p>To delete a file, run:</p>
								<pre><code aria-busy="false" class="hljs">git rm filename.xyz</code></pre>
							</li>

							<li>
								<p>To rename a file, run:</p>
								<pre><code aria-busy="false" class="hljs">git mv oldname.xyz newname.xyz</code></pre>
							</li>
						</ul>
					</section>
				</section>

				<section id="stash-changes"><div class="header-wrapper"><h4 id="x2-6-3-stashing-changes"><bdi class="secno">2.6.3 </bdi>Stashing changes</h4><a class="self-link" href="#stash-changes" aria-label="Permalink for Section 2.6.3"></a></div>
					

					<p>Sometimes you may need to change branches or work on another issue while in the middle of
						editing. If you are not ready to commit the changes you have made, another option is to stash
						them.</p>

					<p>Stashing your changes stores them away in a stack and returns your branch to an unmodified
						state.</p>

					<p>When you return to the branch and are ready to continue editing, you can then "pop" the changes
						from the stash. (Note that you can pop the changes anywhere you want, so you can also pop the
						branches in a new branch if you prefer to start anew.)</p>

					<p>The most common stash commands are:</p>

					<ul>
						<li>
							<p>To stash changes, run:</p>
							<pre><code aria-busy="false" class="hljs">git stash</code></pre>
							<p>or</p>
							<pre><code aria-busy="false" class="hljs abnf">git stash save <span class="hljs-string">"reminder message"</span></code></pre>
							<p>It is best to add a message to remind you what you were working on, as it is easy to
								forget what is in the stash if you have to go away to another issue for a long time.</p>
						</li>

						<li>
							<p>To view the list of stashed changes, run:</p>
							<pre><code aria-busy="false" class="hljs">git stash list</code></pre>
						</li>

						<li>
							<p>To pop the top-most changes, run:</p>
							<pre><code aria-busy="false" class="hljs">git pop</code></pre>
						</li>
					</ul>
				</section>

				<section id="push-changes"><div class="header-wrapper"><h4 id="x2-6-4-pushing-changes"><bdi class="secno">2.6.4 </bdi>Pushing changes</h4><a class="self-link" href="#push-changes" aria-label="Permalink for Section 2.6.4"></a></div>
					

					<p>To store your changes (<a href="#commits">commits</a>) on GitHub, you have to "push" them to the
						server.</p>

					<p>To push commits, run:</p>
					<pre><code aria-busy="false" class="hljs css">git push origin <span class="hljs-selector-attr">[branch-name]</span></code></pre>

					<p>Replacing "[branch-name]" with the name of the branch you are working in.</p>

					<p>As with committing, some people prefer to push their changes often while others prefer to wait
						until they are done. An advantage of pushing changes to GitHub often is that you know they are
						securely saved in case anything happens to your machine. A disadvantage is that undoing a commit
						once you have pushed it is more complicated (this is a bigger problem if you are working
						directly in the "main" branch where changes can go live right away).</p>

					<div class="note" role="note" id="issue-container-generatedID-7"><div role="heading" class="note-title marker" id="h-note-7" aria-level="5"><span>Note</span></div><div class="">
						<p>Pushing your changes to GitHub does not <a href="#open-pr">open a pull request</a> to review
							and integrate your updates. That is the final step in the process.</p>
					</div></div>
				</section>
			</section>

			<section id="pull-requests"><div class="header-wrapper"><h3 id="x2-7-pull-requests"><bdi class="secno">2.7 </bdi>Pull requests</h3><a class="self-link" href="#pull-requests" aria-label="Permalink for Section 2.7"></a></div>
				

				<div class="note" role="note" id="issue-container-generatedID-8"><div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>Note</span></div><div class="">
					<p>This section assumes you will use the GitHub web site, but GitHub Desktop can also manage pull
						requests.</p>

					<p>Many third-party tools, such as the git command line and TortoiseGit, are not able to create pull
						requests in GitHub.</p>
				</div></div>

				<section id="open-pr"><div class="header-wrapper"><h4 id="x2-7-1-opening-a-pull-request"><bdi class="secno">2.7.1 </bdi>Opening a pull request</h4><a class="self-link" href="#open-pr" aria-label="Permalink for Section 2.7.1"></a></div>
					

					<p>A pull request is the final step in the editing process. After you have made all your edits, you
						need to open a pull request to have them merged back into the source specification.</p>

					<p>To open a pull request from the GitHub web site:</p>

					<ol>
						<li>
							<p>Go to the "Pull requests" tab of the repository on GitHub.</p>
						</li>

						<li>
							<p>GitHub should offer to open a new pull request for the changes. If not, click the "New
								pull request" button.</p>
							<figure id="fig-alert-to-open-pull-request">
								<figcaption><a class="self-link" href="#fig-alert-to-open-pull-request">Figure <bdi class="figno">8</bdi></a> <span class="fig-title">Alert to open pull request</span></figcaption>
								<img src="./images/pr-open.png" width="700" alt="">
								<details>
									<summary>Description</summary>
									<p>The image shows the alert field that appears when you go to the pull request tab
										in GitHub after pushing changes to a branch. If this alert is no present, the
										"New pull request" button is visible in the row of options beneath the
										alert.</p>
								</details>
							</figure>
						</li>

						<li>
							<p>Add a descriptive title for your pull request.</p>
							<figure id="fig-example-title-for-a-pull-request">
								<figcaption><a class="self-link" href="#fig-example-title-for-a-pull-request">Figure <bdi class="figno">9</bdi></a> <span class="fig-title">Example title for a pull request</span></figcaption>
								<img src="./images/pr-title.png" width="450" alt="">
							</figure>
						</li>

						<li>
							<p>Describe the changes as fully as you can.</p>
							<p>If the changes fix an issue in the GitHub issue tracker, add "Fixes #xx" to the
								description (replacing xx with the actual issue number). This will automatically close
								the issue when the pull request is merged.</p>
							<figure id="fig-example-description-for-a-pull-request">
								<figcaption><a class="self-link" href="#fig-example-description-for-a-pull-request">Figure <bdi class="figno">10</bdi></a> <span class="fig-title">Example description for a pull request</span></figcaption>
								<img src="./images/pr-desc.png" width="600" alt="">
							</figure>
						</li>

						<li>
							<p>Click the "Create pull request" button after the description box to open the pull
								request.</p>
							<figure id="fig-create-pull-request-button">
								<figcaption><a class="self-link" href="#fig-create-pull-request-button">Figure <bdi class="figno">11</bdi></a> <span class="fig-title">Create pull request button</span></figcaption>
								<img src="./images/pr-create.png" width="200" alt="">
							</figure>
						</li>
					</ol>
				</section>

				<section id="request-reviews"><div class="header-wrapper"><h4 id="x2-7-2-request-reviews"><bdi class="secno">2.7.2 </bdi>Request reviews</h4><a class="self-link" href="#request-reviews" aria-label="Permalink for Section 2.7.2"></a></div>
					

					<p>Pull requests should always be reviewed by at least one other editor before merging. If you do
						not request a review, editors may not be aware you want their input.</p>

					<div class="note" role="note" id="issue-container-generatedID-9"><div role="heading" class="note-title marker" id="h-note-9" aria-level="5"><span>Note</span></div><div class="">
						<p>It is best to pick editors also involved with the issue you are addressing, but if in doubt
							never worry about asking for too many reviewers.</p>
					</div></div>

					<p>To request a review, follow these steps:</p>

					<ol>
						<li>
							<p>Go to the "Reviewers" section in the pull request tab and click on the cog beside the
								heading.</p>
							<figure id="fig-pull-request-reviewers-section">
								<figcaption><a class="self-link" href="#fig-pull-request-reviewers-section">Figure <bdi class="figno">12</bdi></a> <span class="fig-title">Pull request reviewers section</span></figcaption>
								<img src="./images/pr-review.png" width="300" alt="">
								<details>
									<summary>Description</summary>
									<p>Beside the "Reviewers" heading is a grey cog icon. Clicking anywhere on the
										heading or icon will activate the field.</p>
								</details>
							</figure>
						</li>

						<li>
							<p>Enter the GitHub usernames of the people you want to review. As each user account
								appears, click on the name to add the person as a reviewer.</p>
							<figure id="fig-selecting-reviewers">
								<figcaption><a class="self-link" href="#fig-selecting-reviewers">Figure <bdi class="figno">13</bdi></a> <span class="fig-title">Selecting reviewers</span></figcaption>
								<img src="./images/pr-review-select.png" width="300" alt="">
								<details>
									<summary>Description</summary>
									<p>A text input field contains the name "Matt". Below the field, GitHub shows the
										suggested reviewer "MattGarrish".</p>
								</details>
							</figure>
							<p>When you select a user, a checkbox appears beside their account name.</p>
							<figure id="fig-selected-reviewer-with-checkmark">
								<figcaption><a class="self-link" href="#fig-selected-reviewer-with-checkmark">Figure <bdi class="figno">14</bdi></a> <span class="fig-title">Selected reviewer with checkmark</span></figcaption>
								<img src="./images/pr-review-select-check.png" width="300" alt="">
							</figure>
						</li>

						<li>
							<p>After adding all reviewers, exit the field to update the list.</p>
						</li>
					</ol>
				</section>

				<section id="review-pr"><div class="header-wrapper"><h4 id="x2-7-3-reviewing-pull-requests"><bdi class="secno">2.7.3 </bdi>Reviewing pull requests</h4><a class="self-link" href="#review-pr" aria-label="Permalink for Section 2.7.3"></a></div>
					

					<p>If someone requests you review their pull request, follow these steps to add your review:</p>

					<ol>
						<li>
							<p>Open the pull request to review.</p>
						</li>

						<li>
							<p>Click on the "Add your review" button if GitHub prompts you or select the "Files changed"
								tab.</p>
							<figure id="fig-review-prompt">
								<figcaption><a class="self-link" href="#fig-review-prompt">Figure <bdi class="figno">15</bdi></a> <span class="fig-title">Review prompt</span></figcaption>
								<img src="./images/pr-review-prompt.png" width="700" alt="">
								<details>
									<summary>Description</summary>
									<p>A GitHub alert box indicates who has requested the review and provides a button
										to add your review (opens the Files changed tab). A manual link to the files
										changed tab is also in the row of buttons below the alert.</p>
								</details>
							</figure>
						</li>

						<li>
							<p>Review the GitHub diffs of the files. You can also go to the first comment in the pull
								request to find links to an alternative preview and diff of the changes, but any
								comments need to be made against the GitHub diffs.</p>
						</li>

						<li>
							<p>To comment on a changed line, click the plus (+) button at the start of it (labelled "Add
								line comment").</p>
							<figure id="fig-reviewing-edits">
								<figcaption><a class="self-link" href="#fig-reviewing-edits">Figure <bdi class="figno">16</bdi></a> <span class="fig-title">Reviewing edits</span></figcaption>
								<img src="./images/pr-review-suggest.png" width="700" alt="">
								<details>
									<summary>Description</summary>
									<p>The image shows that the plus button for a line has been clicked and a new dialog
										box is open where you can comment on the change. After entering a comment, the
										"Add single comment" and "Start review" buttons beneath the input field become
										active.</p>
								</details>
							</figure>
							<p>The first time you add a comment you will be asked whether you want to start a review or
								leave a single comment. Chose "Start a review" if you expect to add more than one
								comment, otherwise click "Add single comment".</p>
						</li>

						<li>
							<p>When you have reviewed all the changes, click the "Finish your review" button to post
								your comments.</p>
							<figure id="fig-finishing-a-review">
								<figcaption><a class="self-link" href="#fig-finishing-a-review">Figure <bdi class="figno">17</bdi></a> <span class="fig-title">Finishing a review</span></figcaption>
								<img src="./images/pr-review-finish.png" width="500" alt="">
								<details>
									<summary>Description</summary>
									<p>The image shows the "Finish your review" button has been clicked and a new dialog
										is open beneath it. It has a text input field for additional comments and
										options to indicate you are approving, commenting, or requesting changes. The
										"Submit review" button is last in the dialog.</p>
								</details>
							</figure>
							<p>If you did not add any comments, select "Approve" and then click the "Submit review"
								button.</p>
							<p>If you added comments, select "Comment" if they are only suggestions or "Request changes"
								if they are problems that must be fixed.</p>
						</li>
					</ol>

					<div class="note" role="note" id="issue-container-generatedID-10"><div role="heading" class="note-title marker" id="h-note-10" aria-level="5"><span>Note</span></div><div class="">
						<p>To make general comments not specific to the changed source, use the text box at the bottom
							of the Conversation tab.</p>
					</div></div>
				</section>

				<section id="edit-pr"><div class="header-wrapper"><h4 id="x2-7-4-editing-a-pull-request"><bdi class="secno">2.7.4 </bdi>Editing a pull request</h4><a class="self-link" href="#edit-pr" aria-label="Permalink for Section 2.7.4"></a></div>
					

					<p>Sometimes you might want to make a change to another person's pull request – for example, to fix
						a typo, or modify the text after a discussion.</p>

					<p>Editing pull requests is no different from editing your own branches — you are just working
						in someone else's branch.</p>

					<p>To edit a pull request, follow these steps:</p>

					<ol>
						<li><a href="#pull-updates">Pull</a> the latest data.</li>
						<li><a href="#branch-switch">Check out</a> the branch used to create the pull request (you can
							get this information from the pull request).</li>
						<li>Modify the files.</li>
						<li><a href="#commits">Commit</a> and <a href="#push-changes">push</a> the changes.</li>
					</ol>

					<p>The pull request is automatically updated with each commit; you do not have to reopen or update
						it.</p>

					<p>When editing someone else's pull request, make sure your commit messages thoroughly describe what
						you are doing. You should also add detailed comments to the pull request.</p>
				</section>

				

				<section id="merge-pr"><div class="header-wrapper"><h4 id="x2-7-5-merging-pull-requests"><bdi class="secno">2.7.5 </bdi>Merging pull requests</h4><a class="self-link" href="#merge-pr" aria-label="Permalink for Section 2.7.5"></a></div>
					

					<p>If you are an editor, you can merge your pull request after receiving at least one approval.</p>

					<p>If you are not an editor, let the editors decide when to merge.</p>

					<p>To merge a pull request, go to the pull request tab, open the pull request, and click on the
						"Merge pull request" button.</p>

					<div class="note" role="note" id="issue-container-generatedID-11"><div role="heading" class="note-title marker" id="h-note-11" aria-level="5"><span>Note</span></div><div class="">
						<p>When a pull request is merged, it may affect the ability to merge other open pull requests.
							If GitHub is unsure how to merge the open changes with the ones that have been integrated,
							it will flag you that there is a merge conflict.</p>

						<p>GitHub allows you to edit merge conflicts from the web site, but if you are unsure about this
							process, please contact DAISY staff to help.</p>
					</div></div>
				</section>
			</section>
		</section>
		<section id="editing"><div class="header-wrapper"><h2 id="x3-editing-specifications"><bdi class="secno">3. </bdi>Editing specifications</h2><a class="self-link" href="#editing" aria-label="Permalink for Section 3."></a></div>
			

			<section id="respec"><div class="header-wrapper"><h3 id="x3-1-respec"><bdi class="secno">3.1 </bdi>ReSpec</h3><a class="self-link" href="#respec" aria-label="Permalink for Section 3.1"></a></div>
				

				<section id="respec-intro"><div class="header-wrapper"><h4 id="x3-1-1-introduction"><bdi class="secno">3.1.1 </bdi>Introduction</h4><a class="self-link" href="#respec-intro" aria-label="Permalink for Section 3.1.1"></a></div>
					

					<p>ReSpec is a JavaScript tool developed by the W3C to make editing their specifications easier and
						more consistent. The code allows you to focus on writing the content of the specification, while
						it takes care of adding common boilerplate and formatting when the document is viewed live.</p>

					<p>Although developed for W3C, ReSpec is no longer exclusively for developing W3C specifications.
						DAISY, for example, customizes a "base" profile to format its specifications and notes.</p>

					<p>The functioning of ReSpec is meant to be largely transparent to anyone editing specifications.
						Using the tool only requires a script tag to call in the ReSpec code and a block of JSON
						metadata to initialize it. Once these are set, editors will primarily be working in HTML to
						author the content. This means you can use whatever HTML editor you are most comfortable
						with.</p>

					<p>This section covers the setup and initialization of ReSpec. Information on how to tag HTML
						documents to take advantage of ReSpec's built-in formatting is covered in the next section on <a href="#editing">editing</a>.</p>

					<div class="note" role="note" id="issue-container-generatedID-12"><div role="heading" class="note-title marker" id="h-note-12" aria-level="5"><span>Note</span></div><div class="">
						<p>For detailed information on all aspects of ReSpec, please visit the <a href="https://respec.org/docs/">ReSpec Documentation</a>.</p>
					</div></div>
				</section>

				<section id="respec-config"><div class="header-wrapper"><h4 id="x3-1-2-configuring-a-specification"><bdi class="secno">3.1.2 </bdi>Configuring a specification</h4><a class="self-link" href="#respec-config" aria-label="Permalink for Section 3.1.2"></a></div>
					

					<div class="note" role="note" id="issue-container-generatedID-13"><div role="heading" class="note-title marker" id="h-note-13" aria-level="5"><span>Note</span></div><div class="">
						<p>Configuring a ReSpec document for the first time is typically done by DAISY staff. You can
							skip this subsection if you are not interested in how the code is set up.</p>
					</div></div>

					<section id="respec-add"><div class="header-wrapper"><h5 id="x3-1-2-1-adding-the-code"><bdi class="secno">3.1.2.1 </bdi>Adding the code</h5><a class="self-link" href="#respec-add" aria-label="Permalink for Section 3.1.2.1"></a></div>
						

						<p>The ReSpec source code is hosted at
							<code>https://www.w3.org/Tools/respec/respec-w3c</code></p>

						<p>To call in this code, you only need to add a <code>script</code> tag to the HTML header.</p>

						<aside title="ReSpec script tag">
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> …&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
      …
      <span class="hljs-tag">&lt;<span class="hljs-name">script</span>
         <span class="hljs-attr">src</span>=<span class="hljs-string">"https://www.w3.org/Tools/respec/respec-w3c"</span>
         <span class="hljs-attr">class</span>=<span class="hljs-string">"remove"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
      …
   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
						</aside>

						<p>Note the use of the <code>class</code> attribute value "<code>remove</code>" on the
								<code>script</code> tag. This class ensures that ReSpec will remove the
								<code>script</code> tag (i.e., itself) when exporting a static version of the
							specification for publication.</p>

						<p>The only other requirement to get ReSpec working is to add the <a href="#respec-metadata">initialization metadata</a>.</p>
					</section>

					<section id="respec-metadata"><div class="header-wrapper"><h5 id="x3-1-2-2-adding-the-initialization-metadata"><bdi class="secno">3.1.2.2 </bdi>Adding the initialization metadata</h5><a class="self-link" href="#respec-metadata" aria-label="Permalink for Section 3.1.2.2"></a></div>
						

						<p>ReSpec uses JSON metadata to initialize. This metadata is normally embedded in the
								<code>head</code> of the HTML document using a <code>script</code> tag. Although it is
							possible to import the metadata, doing so is not recommended. When stored outside the
							specification, the metadata is often forgotten and not updated.</p>

						<p>The <code>script</code> tag must contain a <code>respecConfig</code> variable definition,
							which in turn must be an object. They key/value pairs in this object define the
							initialization parameters.</p>

						<aside title="ReSpec metadata script tag and variable">
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> …&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
      …
      <span class="hljs-tag">&lt;<span class="hljs-name">script</span>
         <span class="hljs-attr">src</span>=<span class="hljs-string">"https://www.w3.org/Tools/respec/respec-w3c"</span>
         <span class="hljs-attr">class</span>=<span class="hljs-string">"remove"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"remove"</span>&gt;</span><span class="javascript">
         <span class="hljs-keyword">var</span> respecConfig = {
            …
         }
      </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
						</aside>

						<p>The initialization metadata controls such aspects of the document as the links at the top of
							the document (current version, previous version, etc.), the lists of editors and authors,
							etc.</p>

						<p>Setting the various metadata properties goes beyond this tutorial, however. Refer to the <a href="https://respec.org/docs/">ReSpec Documentation</a> for more information.</p>
					</section>

					<section id="respec-confirm"><div class="header-wrapper"><h5 id="x3-1-2-3-confirming-the-respec-setup"><bdi class="secno">3.1.2.3 </bdi>Confirming the ReSpec setup</h5><a class="self-link" href="#respec-confirm" aria-label="Permalink for Section 3.1.2.3"></a></div>
						

						<p>Once the ReSpec code and initialization metadata are set, all you need to do to verify the
							setup is open the document in a browser.</p>

						<div class="note" role="note" id="issue-container-generatedID-14"><div role="heading" class="note-title marker" id="h-note-14" aria-level="6"><span>Note</span></div><div class="">
							<p>Although you can open a ReSpec document on your local file system by double-clicking it,
								it is often better to use a server like Apache or IIS to serve the document. If your
								specification uses ReSpec file includes, for example, these will only work from a
								server.</p>
						</div></div>

						<p>If the configuration is successful, you will get an HTML document with a table of contents on
							one side and a ReSpec button positioned at the top left.</p>

						<img src="images/respec-button.png" width="100" alt="Respec button">

						<p>If the ReSpec button is present, there is nothing else you need to do but reload the document
							to view your changes as you go. If you click on the ReSpec button, it only provides options
							to export the specification (for publication) and to search for references.</p>

						<p>If the ReSpec button is missing, then initialization failed. In this case, check the
							browser's JavaScript console (in the browser tools) for more information. The most common
							problem is invalid JSON in the initialization metadata (e.g., a missing comma).</p>
					</section>
				</section>

				<section id="respec-err-warn"><div class="header-wrapper"><h4 id="x3-1-3-errors-and-warnings"><bdi class="secno">3.1.3 </bdi>Errors and warnings</h4><a class="self-link" href="#respec-err-warn" aria-label="Permalink for Section 3.1.3"></a></div>
					

					<p>ReSpec will alert you to any errors and warnings it can detect.</p>

					<p>For errors, a red oval button with a number indicating the number of errors will appear beside
						the ReSpec box at the top of the document.</p>

					<img src="images/respec-errors.png" width="175" alt="Error indicator">

					<p>Click on the oval to get a list of errors.</p>

					<p>Warnings are the same, but the indicator is a yellow oval.</p>

					<img src="images/respec-warnings.png" width="175" alt="Warning indicator">

					<p>Make sure all errors are fixed. Not all warnings need fixing, but they need to be evaluated on a
						case-by-case basis.</p>
				</section>
			</section>

			<section id="spec-structure"><div class="header-wrapper"><h3 id="x3-2-sectioning-specifications"><bdi class="secno">3.2 </bdi>Sectioning specifications</h3><a class="self-link" href="#spec-structure" aria-label="Permalink for Section 3.2"></a></div>
				

				<section id="sections"><div class="header-wrapper"><h4 id="x3-2-1-using-sections"><bdi class="secno">3.2.1 </bdi>Using sections</h4><a class="self-link" href="#sections" aria-label="Permalink for Section 3.2.1"></a></div>
					

					<p>Section tags are an important part of structuring a specification, and you must author DAISY
						specifications using <code>section</code> tags around each self-contained section of
						content.</p>

					<p>Every <code>section</code> tag should contain a unique ID in its <code>id</code> attribute.
						Although ReSpec will add IDs if they are missing (with the value match the heading), relying on
						this feature is strongly discouraged. If you later change your title, for example, links to it
						will break if you rely on ReSpec's dynamic identifying.</p>

					<p>The <code>section</code> tag is also used to differentiate <a href="#informative-sections">informative content</a> from <a href="#normative-sections">normative content</a>, as
						described in more detail in the next two subsections.</p>

					<p>In addition, every section must have a heading. Ensure that the number of heading tag matches its
						nesting. The top-most sections in a specification must have <code>h2</code> headings – ReSpec
						uses <code>h1</code> for the document title.</p>

					<div class="note" role="note" id="issue-container-generatedID-15"><div role="heading" class="note-title marker" id="h-note-15" aria-level="5"><span>Note</span></div><div class="">
						<p>ReSpec will attempt to correct misnumbered heading tags.</p>
					</div></div>

					<p>Use sentence case for headings — only the first letter is capitalized unless there are also
						proper nouns in the title.</p>

					<p>Do not add numbers your headings (e.g., "<code>&lt;h2&gt;1. …&lt;/h2&gt;</code>"). ReSpec will
						add the correct numbering based on whether the content is preliminary, body, or back matter.</p>

					<div class="note" role="note" id="issue-container-generatedID-16"><div role="heading" class="note-title marker" id="h-note-16" aria-level="5"><span>Note</span></div><div class="">
						<p>If a heading occurs without a <code>section</code> tag, ReSpec will attempt to add one to
							match what it infers to be the correct structure (usually by making a subsection). Be
							careful about relying on this kind of auto-correction.</p>
					</div></div>
				</section>

				<section id="normative-sections"><div class="header-wrapper"><h4 id="x3-2-2-normative-sections"><bdi class="secno">3.2.2 </bdi>Normative sections</h4><a class="self-link" href="#normative-sections" aria-label="Permalink for Section 3.2.2"></a></div>
					

					<p>All specifications are composed of normative and informative sections. Normative sections include
						the requirements the author, reading system, etc. must follow.</p>

					<p>In DAISY specifications, all sections are normative by default. You do not need to specially mark
						these sections as normative.</p>

					<p>Specifications must include a <a href="#spec-conformance">Conformance section</a>. This section
						explains the <a href="#normative-statements">normative keywords</a> used in the document.</p>

					<section id="normative-statements"><div class="header-wrapper"><h5 id="x3-2-2-1-normative-statements"><bdi class="secno">3.2.2.1 </bdi>Normative statements</h5><a class="self-link" href="#normative-statements" aria-label="Permalink for Section 3.2.2.1"></a></div>
						

						<p>Normative sections are composed of one or more requirements. These requirements must be
							identified by special keywords identified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">rfc2119</a></cite>].</p>

						<p>These keywords include:</p>

						<ul>
							<li><code><em class="rfc2119">MUST</em></code>, <code><em class="rfc2119">MUST NOT</em></code>, and <strong><em class="rfc2119">REQUIRED</em></strong> – if the target
								of the statement (content, reading system, etc.) does not meet these requirements it is
								non-conforming.</li>
							<li><code><em class="rfc2119">SHOULD</em></code>, <code><em class="rfc2119">SHOULD NOT</em></code>, and <code><em class="rfc2119">RECOMMENDED</em></code> – the target
								of the statement should only deviate from these requirements if there is a good
								reason.</li>
							<li><code><em class="rfc2119">MAY</em></code> and <code><em class="rfc2119">OPTIONAL</em></code> – meeting these requirements is at the
								discretion of the author or developer.</li>
						</ul>

						<div class="note" role="note" id="issue-container-generatedID-17"><div role="heading" class="note-title marker" id="h-note-17" aria-level="6"><span>Note</span></div><div class="">
							<p>DAISY specifications should not use keywords <em class="rfc2119">SHALL</em> and <em class="rfc2119">SHALL NOT</em>. They are equivalent to
								the "must" keywords and only add confusion.</p>
						</div></div>

						<p>Normative keywords must be in uppercase. Lowercase keywords have no normative weight, but it
							best to avoid these as they confuse most readers.</p>
					</section>
				</section>

				<section id="informative-sections"><div class="header-wrapper"><h4 id="x3-2-3-informative-sections"><bdi class="secno">3.2.3 </bdi>Informative sections</h4><a class="self-link" href="#informative-sections" aria-label="Permalink for Section 3.2.3"></a></div>
					

					<p>Informative sections are for explanatory or illustrative content. They must not contain normative
						statements and should avoid the lowercase equivalents (confuses readers whether the section is
						misidentified as informative).</p>

					<p>Informative sections must be identified by adding an "informative" class to them.</p>

					<aside class="example" id="example-an-informative-section"><div class="marker">
    <a class="self-link" href="#example-an-informative-section">Example<bdi> 2</bdi></a><span class="example-title">: An informative section</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"informative"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Examples<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
					</aside>

					<p>Be careful how you use the informative class. It applies to the section it is added to as well as
						any subsections that section contains. Marking an entire <a href="#introductions">introduction</a> informative, for example, could incorrectly result in the <a href="#spec-conformance">conformance section</a> and <a href="#spec-terminology">terminology
							section</a> becoming informative.</p>

					<div class="note" role="note" id="issue-container-generatedID-18"><div role="heading" class="note-title marker" id="h-note-18" aria-level="5"><span>Note</span></div><div class="">
						<p>Examples and notes are always considered informative – no special marker is needed.</p>
					</div></div>
				</section>
			</section>

			<section id="prelim"><div class="header-wrapper"><h3 id="x3-3-preliminary-matter"><bdi class="secno">3.3 </bdi>Preliminary matter</h3><a class="self-link" href="#prelim" aria-label="Permalink for Section 3.3"></a></div>
				

				<section id="title-and-subtitle"><div class="header-wrapper"><h4 id="x3-3-1-title-and-subtitle"><bdi class="secno">3.3.1 </bdi>Title and subtitle</h4><a class="self-link" href="#title-and-subtitle" aria-label="Permalink for Section 3.3.1"></a></div>
					

					<p>The title of the specification is specified in the document's <code>title</code> tag.</p>

					<aside class="example" id="example-setting-the-title-for-a-specification"><div class="marker">
    <a class="self-link" href="#example-setting-the-title-for-a-specification">Example<bdi> 3</bdi></a><span class="example-title">: Setting the title for a specification</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> …&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>eBraille<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
					</aside>

					<p>ReSpec automatically generates an <code>h1</code> in the body using the same value.</p>

					<p>You can add an <code>h1</code> tag with the id "<code>title</code>" to the body if you need html
						tags in the title, but this is rare.</p>

					<p>To add a subtitle, include an <code>h2</code> tag with the id "<code>title</code>".</p>

					<aside class="example" id="example-inlined-title-and-subtitle"><div class="marker">
    <a class="self-link" href="#example-inlined-title-and-subtitle">Example<bdi> 4</bdi></a><span class="example-title">: Inlined title and subtitle</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"title"</span>&gt;</span>Introducing the <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>details<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> element<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"subtitle"</span>&gt;</span>Creating expandable accessible descriptions<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></code></pre>
					</aside>

					<div class="note" role="note" id="issue-container-generatedID-19"><div role="heading" class="note-title marker" id="h-note-19" aria-level="5"><span>Note</span></div><div class="">
						<p>Do not place the title and subtitle inside <code>section</code> tags.</p>
					</div></div>

					<p>Subtitling specifications is usually rare. Use an <a href="#spec-abstract">abstract</a> to
						describe the specification.</p>
				</section>

				<section id="copyright"><div class="header-wrapper"><h4 id="x3-3-2-copyright"><bdi class="secno">3.3.2 </bdi>Copyright</h4><a class="self-link" href="#copyright" aria-label="Permalink for Section 3.3.2"></a></div>
					

					<p>ReSpec will automatically add a W3C copyright statement if one is not provided in the document.
						To avoid this behavior, add a DAISY copyright statement after the opening body tag.</p>

					<aside class="example" id="example-daisy-copyright"><div class="marker">
    <a class="self-link" href="#example-daisy-copyright">Example<bdi> 5</bdi></a><span class="example-title">: DAISY copyright</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"copyright"</span>&gt;</span>Copyright © DAISY Consortium 2023<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></code></pre>
					</aside>

					<div class="note" role="note" id="issue-container-generatedID-20"><div role="heading" class="note-title marker" id="h-note-20" aria-level="5"><span>Note</span></div><div class="">
						<p>If the document has a title or subtitle in the body, the copyright can proceed these
							tags.</p>
					</div></div>
				</section>

				<section id="spec-abstract"><div class="header-wrapper"><h4 id="x3-3-3-abstract"><bdi class="secno">3.3.3 </bdi>Abstract</h4><a class="self-link" href="#spec-abstract" aria-label="Permalink for Section 3.3.3"></a></div>
					

					<p>ReSpec requires every document have an abstract that briefly explains the document.</p>

					<p>To add the abstract, include a <code>section</code> with the id "<code>abstract</code>".</p>

					<aside class="example" id="example-default-abstract-section-tagging"><div class="marker">
    <a class="self-link" href="#example-default-abstract-section-tagging">Example<bdi> 6</bdi></a><span class="example-title">: Default abstract section tagging</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"abstract"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>…<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
					</aside>

					<div class="note" role="note" id="issue-container-generatedID-21"><div role="heading" class="note-title marker" id="h-note-21" aria-level="5"><span>Note</span></div><div class="">
						<p>Do not add a heading for the abstract. ReSpec will automatically add one.</p>
					</div></div>

					<p>The abstract should only be a few sentences at most. Leave longer explanations for an
						introductory section.</p>

					<p>If you are writing a document that does not need an abstract (e.g., a note), you can suppress the
						section by adding the html <code>hidden</code> attribute. Removing the table of contents entry
						requires scripting, however. Contact DAISY staff to help with this task.</p>
				</section>

				<section id="spec-sotd"><div class="header-wrapper"><h4 id="x3-3-4-status-of-this-document"><bdi class="secno">3.3.4 </bdi>Status of this document</h4><a class="self-link" href="#spec-sotd" aria-label="Permalink for Section 3.3.4"></a></div>
					

					<p>DAISY specifications do not include status sections. Do not include a <code>section</code> tag
						with the id "<code>sotd</code>" as this will trigger ReSpec to include W3C boilerplate.</p>

					<div class="note" role="note" id="issue-container-generatedID-22"><div role="heading" class="note-title marker" id="h-note-22" aria-level="5"><span>Note</span></div><div class="">
						<p>There is no way to overwrite the W3C boilerplate. ReSpec will append any text you write in a
							status section after the boilerplate.</p>

						<p>If DAISY specifications add status sections in the future, a new method for including them
							will be developed.</p>
					</div></div>
				</section>

				<section id="spec-toc"><div class="header-wrapper"><h4 id="x3-3-5-table-of-contents"><bdi class="secno">3.3.5 </bdi>Table of contents</h4><a class="self-link" href="#spec-toc" aria-label="Permalink for Section 3.3.5"></a></div>
					

					<p>ReSpec automatically generates the table of contents from the heading structure.</p>

					<p>How many levels deep the table of contents go can be controlled by the <a href="#respec-metadata">initialization metadata</a>, but it is best not to limit user access.</p>

					<p>Individual sections can be omitted from the table of contents by adding the class
							"<code>noTOC</code>" to them.</p>

					<div class="note" role="note" id="issue-container-generatedID-23"><div role="heading" class="note-title marker" id="h-note-23" aria-level="5"><span>Note</span></div><div class="">
						<p>You cannot use the <code>noTOC</code> class to suppress required sections, like the <a href="#spec-abstract">abstract</a>.</p>
					</div></div>
				</section>

				<section id="introductions"><div class="header-wrapper"><h4 id="x3-3-6-introductions"><bdi class="secno">3.3.6 </bdi>Introductions</h4><a class="self-link" href="#introductions" aria-label="Permalink for Section 3.3.6"></a></div>
					

					<p>DAISY specifications should include an introduction section to group any additional preliminary
						matter.</p>

					<aside class="example" id="example-overview-section"><div class="marker">
    <a class="self-link" href="#example-overview-section">Example<bdi> 7</bdi></a><span class="example-title">: Overview section</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"intro"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Introduction<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
   
   <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"overview"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"informative"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Overview<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      —
   <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
					</aside>

					<p>Do not mark the introduction as informative unless all the subsections it contains are also
						informative.</p>

					<p>The following sections explain the most common subsections found in the introduction, but you can
						add any additional explanatory subsections you need.</p>

					<section id="spec-overview"><div class="header-wrapper"><h5 id="x3-3-6-1-overviews-and-backgrounds"><bdi class="secno">3.3.6.1 </bdi>Overviews and Backgrounds</h5><a class="self-link" href="#spec-overview" aria-label="Permalink for Section 3.3.6.1"></a></div>
						

						<p>An overview section provides you the opportunity to informatively describe the purpose, scope
							and features of the specification in more detail than the <a href="#abstract">abstract</a>
							allows. It is generally recommended to always include one in DAISY specifications.</p>

						<p>Make sure mark the overview as informative.</p>

						<aside class="example" id="example-overview-section-0"><div class="marker">
    <a class="self-link" href="#example-overview-section-0">Example<bdi> 8</bdi></a><span class="example-title">: Overview section</span>
  </div>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"overview"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"informative"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Overview<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
   
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
      The need for a common digital braille format —
   <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
						</aside>

						<p>DAISY specifications may also contain background sections, although these are not common. A
							background section differs from an overview in that it delves into the problems that led to
							creating the specification, for example, or outlines how the specification is a response to
							previous efforts. The background should typically follow the overview.</p>

						<aside class="example" id="example-background-section"><div class="marker">
    <a class="self-link" href="#example-background-section">Example<bdi> 9</bdi></a><span class="example-title">: Background section</span>
  </div>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"background"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"informative"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Background<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
   
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
      The first effort to solve the issue of —
   <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
						</aside>
					</section>

					<section id="spec-conformance"><div class="header-wrapper"><h5 id="x3-3-6-2-conformance"><bdi class="secno">3.3.6.2 </bdi>Conformance</h5><a class="self-link" href="#spec-conformance" aria-label="Permalink for Section 3.3.6.2"></a></div>
						

						<p>DAISY specifications must have a conformance section. This section should go after the <a href="#spec-overview">Overview</a>.</p>

						<p>You should not include any text in the conformance section or give it a heading. ReSpec will
							automatically populate the required text.</p>

						<aside class="example" id="example-empty-conformance-section"><div class="marker">
    <a class="self-link" href="#example-empty-conformance-section">Example<bdi> 10</bdi></a><span class="example-title">: Empty conformance section</span>
  </div>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"conformance"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
						</aside>

						<p>If you do add content to the section, ReSpec adds it after the boilerplate it generates.</p>

						<div class="note" role="note" id="issue-container-generatedID-24"><div role="heading" class="note-title marker" id="h-note-24" aria-level="6"><span>Note</span></div><div class="">
							<p>If you are writing an informative note, not a specification, omit a conformance section.
								ReSpec will emit a warning, but this can be ignored.</p>
						</div></div>
					</section>

					<section id="spec-terminology"><div class="header-wrapper"><h5 id="x3-3-6-3-terminology"><bdi class="secno">3.3.6.3 </bdi>Terminology</h5><a class="self-link" href="#spec-terminology" aria-label="Permalink for Section 3.3.6.3"></a></div>
						

						<p>If your specification uses terms that need defining, add a terminology section in the
							introductory material. This section typically follows the <a href="spec-conformance">conformance section</a>.</p>

						<p>Within the terminology section, add a definition list (<code>dl</code> tag) to define the
							terms.</p>

						<p>Each <code>dt</code> must include a <code>dfn</code> tag around the term. This allows ReSpec
							to harvest the terminology and simplify linking to terms.</p>

						<aside class="example" id="example-typical-terminology-section"><div class="marker">
    <a class="self-link" href="#example-typical-terminology-section">Example<bdi> 11</bdi></a><span class="example-title">: Typical terminology section</span>
  </div>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"terminology"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Terminology<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
   
   <span class="hljs-tag">&lt;<span class="hljs-name">dl</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dfn</span>&gt;</span>Term<span class="hljs-tag">&lt;/<span class="hljs-name">dfn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span>
     
      <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Definition<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span>
      …
   <span class="hljs-tag">&lt;/<span class="hljs-name">dl</span>&gt;</span>
&lt;/section</code></pre>

						</aside>

						<p>Never include normative requirements in a terminology section! Users do not expect to find
							implementation details in definitions. Add requirements to a section most applicable to the
							term.</p>

						<div class="note" role="note" id="issue-container-generatedID-25"><div role="heading" class="note-title marker" id="h-note-25" aria-level="6"><span>Note</span></div><div class="">
							<p>Terminology is always considered a normative part of a specification even if it does not
								contain normative requirements. Do not mark the section as informative.</p>
						</div></div>

						<p>Once a term is defined, you can reference it from an <code>a</code> tag anywhere in the
							document. You do not have to include a <code>href</code> attribute.</p>

						<aside class="example" id="example-link-to-a-definition"><div class="marker">
    <a class="self-link" href="#example-link-to-a-definition">Example<bdi> 12</bdi></a><span class="example-title">: Link to a definition</span>
  </div>
							<pre><code aria-busy="false" class="hljs css">When the &lt;<span class="hljs-selector-tag">a</span>&gt;reading system&lt;/<span class="hljs-selector-tag">a</span>&gt; opens the document …</code></pre>
						</aside>

						<p>Only the first instance of a term in a new section is linked to its definition.</p>

						<p>ReSpec can handle differences in case between the link text and the defined term. It can also
							account for most plural forms of words.</p>

						<p>If you intend to use a shorthand expression of the term (e.g., "reading system" instead of
							"eBraille reading system", you need to define the alternative in the term definition using a
								<code>data-lt</code> attribute.</p>

						<aside class="example" id="example-defining-an-alternative-term"><div class="marker">
    <a class="self-link" href="#example-defining-an-alternative-term">Example<bdi> 13</bdi></a><span class="example-title">: Defining an alternative term</span>
  </div>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dfn</span> <span class="hljs-attr">data-lt</span>=<span class="hljs-string">"reading system"</span>&gt;</span>
   eBraille Reading System
<span class="hljs-tag">&lt;/<span class="hljs-name">dfn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span></code></pre>
						</aside>

						<p>If there is more than one alternative, use a vertical bar (<code>|</code>) to separate the
							terms in the attribute.</p>
					</section>
				</section>
			</section>

			<section id="body"><div class="header-wrapper"><h3 id="x3-4-body-matter"><bdi class="secno">3.4 </bdi>Body matter</h3><a class="self-link" href="#body" aria-label="Permalink for Section 3.4"></a></div>
				

				<section id="body-write"><div class="header-wrapper"><h4 id="x3-4-1-how-to-write-the-body"><bdi class="secno">3.4.1 </bdi>How to write the body</h4><a class="self-link" href="#body-write" aria-label="Permalink for Section 3.4.1"></a></div>
					

					<p>Probably the toughest problem you will face when writing a specification is how to structure it
						and what to write about.</p>

					<p>Although there is no simple answer to how to write a specification, the best way to begin the
						process is often to brainstorm a list of topics that you expect you will have to cover. Start by
						coming up with a list of top-level concepts or technologies you expect to define and then work
						at refining this list by filling in the subsections.</p>

					<p>Do not worry about getting this initial outline perfect … finished specifications almost
						never look anything like they did at the outset. You will only discover what you ultimately need
						to add and how to arrange the information as you go.</p>

					<p>Once you have an outline of topics, a useful next step is to think of a specification as a
						teaching guide. You need to introduce your readers to the concepts in a logical sequence that
						allows them to build on the aspects they have already learned. Try arranging your outline so
						that readers do not depend on understanding concepts that are only explained later.</p>

					<p>Finally, do not feel compelled to fill in a specification from top-to-bottom. Begin wherever you
						feel most comfortable and work your way through. Some parts will be much easier to write than
						others and will require less input from the group. Getting some easy wins will make the process
						more rewarding than struggling with harder parts just because they come first.</p>

					<div class="note" role="note" id="issue-container-generatedID-26"><div role="heading" class="note-title marker" id="h-note-26" aria-level="5"><span>Note</span></div><div class="">
						<p>The rest of this section deals with writing conveniences provided by ReSpec.</p>
					</div></div>
				</section>

				<section id="writing-guidelines"><div class="header-wrapper"><h4 id="x3-4-2-writing-guidelines"><bdi class="secno">3.4.2 </bdi>Writing guidelines</h4><a class="self-link" href="#writing-guidelines" aria-label="Permalink for Section 3.4.2"></a></div>
					

					<p>Use the following guidelines when writing DAISY specifications:</p>

					<ul>
						<li>Use US English spelling</li>
						<li>Follow the Chicago Manual of Style grammar and formatting rules</li>
						<li>Do not use contractions (don't, can't, etc.)</li>
						<li>Do not use personal pronouns (I, we, you, etc.)</li>
						<li>Write out acronyms the first time (except where the acronym has become an accepted word,
							like HTML)</li>
						<li>Do not use colloquialisms - assume an international audience</li>
						<li>Prefer active voice ("Authors must …", "Reading systems must …"), but passive
							voice is acceptable for specification writing</li>
					</ul>
				</section>

				<section id="xrefs"><div class="header-wrapper"><h4 id="x3-4-3-cross-references"><bdi class="secno">3.4.3 </bdi>Cross-references</h4><a class="self-link" href="#xrefs" aria-label="Permalink for Section 3.4.3"></a></div>
					

					<p>To cross-reference another section in your specification, use an <code>a</code> tag that
						references the ID of the section.</p>

					<p>If you do not put any text in the <code>a</code> tag, ReSpec will automatically add the number
						and title of the section. (You can also use ReSpec's triple bracket shorthand for referencing
						sections this way: <code>[[[<code>#id</code>]]]</code>.)</p>

					<aside class="example" id="example-cross-reference-with-text-label"><div class="marker">
    <a class="self-link" href="#example-cross-reference-with-text-label">Example<bdi> 14</bdi></a><span class="example-title">: Cross-reference with text label</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml">For more information, refer to the
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#html-restrictions"</span>&gt;</span>HTML restrictions<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>.</code></pre>
					</aside>

					<aside class="example" id="example-cross-reference-without-text-label"><div class="marker">
    <a class="self-link" href="#example-cross-reference-without-text-label">Example<bdi> 15</bdi></a><span class="example-title">: Cross-reference without text label</span>
  </div>
						<p>In this example, if the section with the ID "html-restrictions" is the sixth in the document
							and has the heading "HTML restricted elements", ReSpec will create the label "6. HTML
							restricted elements" for the link.</p>
						<pre><code aria-busy="false" class="hljs xml">For more information, refer to
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#html-restrictions"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>.</code></pre>
						<pre><code aria-busy="false" class="hljs css">For more information, refer <span class="hljs-selector-tag">to</span> <span class="hljs-selector-attr">[[[#html-restrictions]</span>]].</code></pre>
					</aside>
				</section>

				<section id="refs"><div class="header-wrapper"><h4 id="ref-hd"><bdi class="secno">3.4.4 </bdi>References</h4><a class="self-link" href="#ref-hd" aria-label="Permalink for Section 3.4.4"></a></div>
					

					<section id="ref-specs" aria-labelledby="ref-hd ref-specs-hd"><div class="header-wrapper"><h5 id="ref-specs-hd"><bdi class="secno">3.4.4.1 </bdi>To other specifications</h5><a class="self-link" href="#ref-specs-hd" aria-label="Permalink for Section 3.4.4.1"></a></div>
						

						<p>When referencing elements, attributes, definitions, concepts, etc. another specification, you
							must cite the specification.</p>

						<p>ReSpec supports a shorthand syntax for specification references using two brackets on either
							side of the specification's shortname: <code>[[shortname]]</code></p>

						<p>To find the shortname to use for a specification, go to <a href="https://specref.org">https://specref.org</a> (there is also a link to this page from the ReSpec button).</p>

						<p>Specification references may be normative or informative. References inherit this designation
							from the type of section they are in.</p>

						<aside class="example" id="example-normative-reference"><div class="marker">
    <a class="self-link" href="#example-normative-reference">Example<bdi> 16</bdi></a><span class="example-title">: Normative reference</span>
  </div>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"toc-req"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Table of contents requirements<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>The table of contents MUST be defined in an [[html]] [^nav^] element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
						</aside>

						<aside class="example" id="example-informative-reference-in-a-note"><div class="marker">
    <a class="self-link" href="#example-informative-reference-in-a-note">Example<bdi> 17</bdi></a><span class="example-title">: Informative reference in a note</span>
  </div>
							<p>Because notes are informative, the reference becomes informative.</p>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"note"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>The [[html]] [^details^] element still has support issues
      in some reading systems.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
						</aside>

						<p>If informative references are used in normative sections, you must mark the reference as
							informative by adding a question mark before the shortname.</p>

						<aside class="example" id="example-informative-reference-in-a-normative-section"><div class="marker">
    <a class="self-link" href="#example-informative-reference-in-a-normative-section">Example<bdi> 18</bdi></a><span class="example-title">: Informative reference in a normative section</span>
  </div>
							<pre><code aria-busy="false" class="hljs">Images MUST include alternative text (e.g., in the [[?html]] [^img^]
element's [^img/alt^] attribute).</code></pre>
						</aside>

						<p>Normative references are not allowed in informative content.</p>

						<p>ReSpec automatically builds a references section in the back matter and sorts the references
							into normative and informative subsections.</p>
					</section>

					<section id="ref-markup" aria-labelledby="ref-hd ref-markup-hd"><div class="header-wrapper"><h5 id="ref-markup-hd"><bdi class="secno">3.4.4.2 </bdi>To elements and attributes</h5><a class="self-link" href="#ref-markup-hd" aria-label="Permalink for Section 3.4.4.2"></a></div>
						

						<p>ReSpec also has a shorthand for linking to elements in other specifications using a bracket
							and circumflex around the element's name: <code>[^<code>element</code>^]</code></p>

						<aside class="example" id="example-reference-to-the-html-iframe-element"><div class="marker">
    <a class="self-link" href="#example-reference-to-the-html-iframe-element">Example<bdi> 19</bdi></a><span class="example-title">: Reference to the HTML iframe element</span>
  </div>
							<pre><code aria-busy="false" class="hljs css">The <span class="hljs-selector-attr">[[html]</span>] <span class="hljs-selector-attr">[^iframe^]</span> element …</code></pre>
						</aside>

						<p>To reference an attribute, you typically add a slash after the element's name:
									<code>[^<code>element/attribute</code>^]</code></p>

						<aside class="example" id="example-reference-to-the-html-img-element-s-src-attribute"><div class="marker">
    <a class="self-link" href="#example-reference-to-the-html-img-element-s-src-attribute">Example<bdi> 20</bdi></a><span class="example-title">: Reference to the HTML img element's src attribute</span>
  </div>
							<pre><code aria-busy="false" class="hljs css">The <span class="hljs-selector-attr">[^img/src^]</span> attribute …</code></pre>
						</aside>

						<div class="note" role="note" id="issue-container-generatedID-27"><div role="heading" class="note-title marker" id="h-note-27" aria-level="6"><span>Note</span></div><div class="">
							<p>ReSpec replaces the attribute shorthand with the attribute's actual name. In the previous
								example, only "The <code>src</code> attribute" will appear in the rendered text.</p>
						</div></div>

						<p>Element and attribute shorthands are only available for HTML and SVG.</p>

						<p>If you are unsure what shorthand to use, or are getting an error, go to <a href="https://respec.org/xref/">https://respec.org/xref/</a> and make sure you have the
							correct reference.</p>

						<p>If more than one specification defines an element or attribute, you may need to tell ReSpec
							which one you mean to reference by adding a <code>data-cite</code> attribute. The value of
							this attribute is the same shorthand name you use to <a href="#ref-specs">reference the
								specification</a>.</p>

						<aside class="example" id="example-identifying-the-link-element-s-source"><div class="marker">
    <a class="self-link" href="#example-identifying-the-link-element-s-source">Example<bdi> 21</bdi></a><span class="example-title">: Identifying the link element's source</span>
  </div>
							<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">data-cite</span>=<span class="hljs-string">"html"</span>&gt;</span>The [[html]] [^link^] element …<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre>
						</aside>
					</section>

					<section id="ref-concepts" aria-labelledby="ref-hd ref-concept-hd"><div class="header-wrapper"><h5 id="ref-concept-hd"><bdi class="secno">3.4.4.3 </bdi>To concepts and definitions</h5><a class="self-link" href="#ref-concept-hd" aria-label="Permalink for Section 3.4.4.3"></a></div>
						

						<p>Concepts and definitions are defined in <code>dfn</code> tags.</p>

						<p>ReSpec has a shorthand for referencing these using a bracket and equals sign around the term:
									<code>[=<code>term</code>=]</code></p>

						<aside class="example" id="example-referencing-a-concept"><div class="marker">
    <a class="self-link" href="#example-referencing-a-concept">Example<bdi> 22</bdi></a><span class="example-title">: Referencing a concept</span>
  </div>
							<pre><code aria-busy="false" class="hljs css">… the &lt;<span class="hljs-selector-tag">dfn</span>&gt;base url of the container&lt;/<span class="hljs-selector-tag">dfn</span>&gt; is …
…
When appending the <span class="hljs-selector-attr">[=base url of the container=]</span> …
</code></pre>
						</aside>

						<p>Concepts can be defined either in the current specification or in another, like [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">infra</a></cite>] or
							[<cite><a class="bibref" data-link-type="biblio" href="#bib-url" title="URL Standard">url</a></cite>].</p>
					</section>
				</section>

				<section id="adding-notes"><div class="header-wrapper"><h4 id="x3-4-5-adding-notes"><bdi class="secno">3.4.5 </bdi>Adding notes</h4><a class="self-link" href="#adding-notes" aria-label="Permalink for Section 3.4.5"></a></div>
					

					<p>There are two main types of notes:</p>

					<dl>
						<dt>Regular notes</dt>
						<dd>
							<p>Regular notes are like asides … they are used to informatively describe issues to
								readers.</p>
							<p>To add a note, use the class "<code>note</code>".</p>
							<aside class="example" id="example-typical-note-markup"><div class="marker">
    <a class="self-link" href="#example-typical-note-markup">Example<bdi> 23</bdi></a><span class="example-title">: Typical note markup</span>
  </div>
								<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"note"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Note text<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
							</aside>
							<p>You can also add a descriptive caption using the <code>title</code> attribute but, this
								is not commonly done for notes.</p>
							<p>If a note is only a single paragraph, you can use the <code>note</code> class directly on
								the paragraph tag. The one downside of this approach is that it makes notes slightly
								hard to spot visually when editing (the extra <code>div</code> wrapper makes the
								paragraph stand out from any others around it.</p>
						</dd>

						<dt>Editor's notes</dt>
						<dd>
							<p>Editor's notes inform readers about issues that are still to be addressed in the
								specification.</p>
							<p>To add an editor's note, use the class "<code>ednote</code>".</p>
							<aside class="example" id="example-typical-editor-note-markup"><div class="marker">
    <a class="self-link" href="#example-typical-editor-note-markup">Example<bdi> 24</bdi></a><span class="example-title">: Typical editor note markup</span>
  </div>
								<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ednote"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Note text<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
							</aside>
							<div class="note" role="note" id="issue-container-generatedID-28"><div role="heading" class="note-title marker" id="h-note-28" aria-level="5"><span>Note</span></div><div class="">
								<p>Editor's notes are only allowed while you are working on the specification. They must
									be removed prior to final publication.</p>
							</div></div>
						</dd>
					</dl>
				</section>

				<section id="adding-examples"><div class="header-wrapper"><h4 id="x3-4-6-adding-examples"><bdi class="secno">3.4.6 </bdi>Adding examples</h4><a class="self-link" href="#adding-examples" aria-label="Permalink for Section 3.4.6"></a></div>
					

					<p>To add examples, use an <code>aside</code> tag with the class "<code>example</code>".</p>

					<p>Use the <code>title</code> attribute to add a descriptive caption for the example. It is strongly
						recommended to title examples to make it easier for readers to understand their purpose.</p>

					<p>Use <code>&lt;pre&gt;</code> and <code>&lt;code&gt;</code> tags to wrap the example markup.</p>

					<aside>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Adding foo to bar"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span><span class="hljs-symbol">&amp;lt;</span>p&gt; <span class="hljs-symbol">&amp;#8230;</span><span class="hljs-symbol">&amp;lt;</span>/p&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span></code></pre>
					</aside>

					<div class="note" role="note" id="issue-container-generatedID-29"><div role="heading" class="note-title marker" id="h-note-29" aria-level="5"><span>Note</span></div><div class="">
						<p>Make sure to escape opening brackets in the example.</p>
					</div></div>

					<p>If necessary, you can add a more thorough description of the example using <code>&lt;p&gt;</code>
						tags.</p>

					<aside class="example" id="example-example-with-description"><div class="marker">
    <a class="self-link" href="#example-example-with-description">Example<bdi> 25</bdi></a><span class="example-title">: Example with description</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Adding bar to foo"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>In the example, the foo is … <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span></code></pre>
					</aside>

					<p>ReSpec will automatically number examples.</p>
				</section>
			</section>

			<section id="backmatter"><div class="header-wrapper"><h3 id="x3-5-back-matter"><bdi class="secno">3.5 </bdi>Back matter</h3><a class="self-link" href="#backmatter" aria-label="Permalink for Section 3.5"></a></div>
				

				<section id="adding-app"><div class="header-wrapper"><h4 id="x3-5-1-adding-appendixes"><bdi class="secno">3.5.1 </bdi>Adding appendixes</h4><a class="self-link" href="#adding-app" aria-label="Permalink for Section 3.5.1"></a></div>
					

					<p>Marking a section as an appendix changes its numbering to alphabetic and signifies it is in the
						back matter.</p>

					<p>To indicate a section is an appendix, add the class <code>appendix</code> to its
							<code>section</code> tag.</p>

					<aside class="example" id="example-a-section-marked-as-an-appendix"><div class="marker">
    <a class="self-link" href="#example-a-section-marked-as-an-appendix">Example<bdi> 26</bdi></a><span class="example-title">: A section marked as an appendix</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"appendix"</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
					</aside>

					<p>Appendixes are not informative by default, but they are typically used for informative content.
						An informative class must be added if the appendix is not normative.</p>

					<aside class="example" id="example-an-informative-appendix"><div class="marker">
    <a class="self-link" href="#example-an-informative-appendix">Example<bdi> 27</bdi></a><span class="example-title">: An informative appendix</span>
  </div>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"appendix informative"</span>&gt;</span>
   …
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
					</aside>

					<p>Appendixes must be the last sections in the document. ReSpec will convert all sections after the
						first marked as an appendix to appendices, whether you wanted them as appendixes or not!</p>
				</section>

				<section id="spec-change-log"><div class="header-wrapper"><h4 id="x3-5-2-change-log-entries"><bdi class="secno">3.5.2 </bdi>Change log entries</h4><a class="self-link" href="#spec-change-log" aria-label="Permalink for Section 3.5.2"></a></div>
					

					<p>ReSpec currently does not help you out with change logs.</p>

					<p>Change log entries should be dated and provide a concise description of the change. Best practice
						is to also include a link to the GitHub issue for each entry.</p>

					<aside>
						<pre><code aria-busy="false" class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
   2023-10-12 — Updated parsing algorithm for the
   table of contents. Refer to <span class="hljs-tag">&lt;<span class="hljs-name">a</span>
   <span class="hljs-attr">href</span>=<span class="hljs-string">"https://www.github.com/daisy/ex/issues/234"</span>&gt;</span>issue
   234<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>.
<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></code></pre>
					</aside>

					<p>A change log may not be needed for a new specification but can help readers track changes since
						the last publication.</p>
				</section>
			</section>

			<section id="custom-css"><div class="header-wrapper"><h3 id="x3-6-custom-styling"><bdi class="secno">3.6 </bdi>Custom styling</h3><a class="self-link" href="#custom-css" aria-label="Permalink for Section 3.6"></a></div>
				

				<p>Although ReSpec provides a default look and feel, it does not cover everything you may need when
					writing a specification.</p>

				<p>To use custom styling, simply add a <code>style</code> tag to the document header with the necessary
					CSS.</p>

				<p>Do not change the appearance of specifications just because you do not like the ReSpec defaults!
					Limit custom CSS to unhandled needs.</p>
			</section>
		</section>
		<section id="resources"><div class="header-wrapper"><h2 id="x4-helpful-resources"><bdi class="secno">4. </bdi>Helpful resources</h2><a class="self-link" href="#resources" aria-label="Permalink for Section 4."></a></div>
			

			<section id="github-0"><div class="header-wrapper"><h3 id="x4-1-github"><bdi class="secno">4.1 </bdi>GitHub</h3><a class="self-link" href="#github-0" aria-label="Permalink for Section 4.1"></a></div>
				

				<ul>
					<li><a href="https://docs.github.com/en/get-started">Get started with GitHub</a></li>
					<li><a href="https://git-scm.com/docs">Git Command Reference</a></li>
					<li><a href="https://git-scm.com/book/en/v2">Pro Git Book</a></li>
					<li><a href="https://www.atlassian.com/git/tutorials">Atlassian Tutorials</a></li>
					<li><a href="https://stackoverflow.com/">Stack Overflow</a></li>
				</ul>
			</section>

			<section id="editing-0"><div class="header-wrapper"><h3 id="x4-2-editing"><bdi class="secno">4.2 </bdi>Editing</h3><a class="self-link" href="#editing-0" aria-label="Permalink for Section 4.2"></a></div>
				

				<ul>
					<li><a href="https://respec.org/docs/">ReSpec Documentation</a></li>
					<li><a href="https://www.specref.org/">SpecRef Database</a></li>
					<li><a href="https://respec.org/xref/">Cross-reference Database</a></li>
					<li><a href="https://www.chicagomanualofstyle.org/home.html">Chicago Manual of Style</a></li>
				</ul>
			</section>
		</section>
	

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix A."></a></div><section id="informative-references"><div class="header-wrapper"><h3 id="a-1-informative-references"><bdi class="secno">A.1 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix A.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-infra">[infra]</dt><dd>
      <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
    </dd><dt id="bib-rfc2119">[rfc2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-url">[url]</dt><dd>
      <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>